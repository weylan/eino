# Compose Package

## 概述

compose 包是 Eino 框架的核心编排引擎，提供了强大的组件编排能力，支持 Chain、Graph 和 Workflow 三种编排方式。

## 主要功能

- **Chain 编排**：简单的链式有向图，只能向前执行
- **Graph 编排**：支持循环或非循环有向图，功能强大且灵活
- **Workflow 编排**：支持结构体字段级别数据映射的非循环图
- **流式处理**：自动处理流式数据的拼接、装箱、合并和复制
- **类型检查**：编译时确保节点间输入输出类型匹配
- **并发管理**：安全的并发执行和状态管理
- **选项分配**：支持全局、组件类型和节点级别的选项配置

## 核心文件

- `chain.go` - Chain 编排实现
- `graph.go` - Graph 编排实现
- `workflow.go` - Workflow 编排实现
- `runnable.go` - 可执行组件的统一接口
- `stream_*.go` - 流式处理相关实现
- `branch.go` - 分支逻辑实现
- `state.go` - 状态管理实现
- `tool_node.go` - 工具节点实现

## 编排模式对比

| API      | 特点                                   |
|----------|----------------------------------------|
| Chain    | 简单链式，只能向前                      |
| Graph    | 循环/非循环图，强大灵活                 |
| Workflow | 非循环图，支持字段级数据映射            |
